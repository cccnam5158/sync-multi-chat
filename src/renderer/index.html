<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-AI Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app-container">
        <div id="views-placeholder">
            <!-- BrowserViews will be positioned over this area by the Main process -->
            <div class="view-label">ChatGPT</div>
            <div class="view-label">Claude</div>
            <div class="view-label">Gemini</div>
            <div class="view-label">Grok</div>
            <div class="view-label">Perplexity</div>
        </div>
        <div id="controls-container">
            <div id="toggles">
                <div class="toggles-content">
                    <button id="new-chat-btn" class="new-chat-btn">New Chat</button>
                    <button id="copy-chat-btn" class="copy-chat-btn">Copy Chat Thread</button>
                    <button id="cross-check-btn" class="cross-check-btn">Cross Check</button>
                    <button id="anonymous-btn" class="anonymous-btn" title="Toggle Anonymous Mode">
                        <svg class="power-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
                            <line x1="12" y1="2" x2="12" y2="12"></line>
                        </svg>
                        <span>Anonymous</span>
                    </button>

                    <label class="switch-container" title="Toggle Scroll Sync">
                        <input type="checkbox" id="scroll-sync-toggle">
                        <span class="switch-slider"></span>
                        <span class="switch-label">Scroll Sync</span>
                    </label>

                    <span class="layout-group">
                        <button id="layout-1x3" class="layout-btn" title="1x3 Layout">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                                <rect x="3" y="2" width="4" height="20" rx="1" />
                                <rect x="10" y="2" width="4" height="20" rx="1" />
                                <rect x="17" y="2" width="4" height="20" rx="1" />
                            </svg>
                        </button>
                        <button id="layout-1x4" class="layout-btn active" title="1x4 Layout">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                                <rect x="2" y="2" width="3" height="20" rx="0.5" />
                                <rect x="7.5" y="2" width="3" height="20" rx="0.5" />
                                <rect x="13" y="2" width="3" height="20" rx="0.5" />
                                <rect x="18.5" y="2" width="3" height="20" rx="0.5" />
                            </svg>
                        </button>
                        <button id="layout-2x2" class="layout-btn" title="2x2 Layout">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                                <rect x="3" y="3" width="8" height="8" rx="1" />
                                <rect x="13" y="3" width="8" height="8" rx="1" />
                                <rect x="3" y="13" width="8" height="8" rx="1" />
                                <rect x="13" y="13" width="8" height="8" rx="1" />
                            </svg>
                        </button>
                    </span>

                    <label class="service-toggle-label"><input type="checkbox" id="toggle-chatgpt" checked> <span
                            class="label-text">ChatGPT</span></label>
                    <label class="service-toggle-label"><input type="checkbox" id="toggle-claude" checked> <span
                            class="label-text">Claude</span></label>
                    <label class="service-toggle-label"><input type="checkbox" id="toggle-gemini" checked> <span
                            class="label-text">Gemini</span></label>
                    <label class="service-toggle-label"><input type="checkbox" id="toggle-grok"> <span
                            class="label-text">Grok</span></label>
                    <label class="service-toggle-label"><input type="checkbox" id="toggle-perplexity" checked> <span
                            class="label-text">Perplexity</span></label>
                </div>
                <button id="prompt-toggle-btn" class="prompt-toggle-btn" aria-expanded="true"
                    title="Collapse prompt panel">
                    <svg class="toggle-icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            <div id="input-area">
                <div class="input-controls">
                    <div class="prompt-card">
                        <textarea id="master-input"
                            placeholder="Type your prompt here... (Ctrl+Enter to Send, Ctrl+Shift+Enter for New Chat)"></textarea>
                        <div class="prompt-toolbar">
                            <div class="toolbar-left">
                                <button id="clip-btn" title="Attach files" aria-label="Attach files">
                                    <svg class="clip-icon" viewBox="0 0 24 24" aria-hidden="true">
                                        <path
                                            d="M7.5 12.5l5.15-5.15a3 3 0 114.24 4.24l-6.36 6.36a4 4 0 11-5.66-5.66l6.01-6.01"
                                            fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                                </button>
                                <div id="file-preview-area"></div>
                                <button id="clear-files-btn" class="clear-files-btn" title="Clear selected files">Clear
                                    All</button>
                            </div>
                            <div class="toolbar-right">
                                <button id="send-btn" title="Send prompt">Send</button>
                            </div>
                        </div>
                        <input type="file" id="file-input" multiple style="display: none;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="confirmation-modal">
        <div class="modal-content">
            <div class="modal-text">ÌååÏùº ÏóÖÎ°úÎìú ÏôÑÎ£å ÌôïÏù∏ ÌõÑ,<br>Ctrl + EnterÎ•º ÏûÖÎ†•ÌïòÏó¨ ÏßÑÌñâÌï¥Ï£ºÏÑ∏Ïöî.</div>
            <div class="modal-timer"></div>
        </div>
    </div>

    <!-- Cross Check Modal -->
    <div id="cross-check-modal" class="modal">
        <div class="modal-content cross-check-content">
            <div class="modal-header">
                <h2>Cross Check Options</h2>
                <button id="close-cross-check-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="cross-check-options" class="options-view">
                    <button id="btn-compare-responses" class="option-card relative-parent">
                        <div class="icon">üîç</div>
                        <h3>Compare AI Responses</h3>
                        <p>Use a predefined prompt to analyze and compare responses.</p>
                        <div class="hover-preview">
                            <strong>Preview:</strong><br>
                            <span id="predefined-prompt-preview-text">"Below are responses from different AI models.
                                Please compare and analyze them for accuracy, completeness, and logic. Identify any
                                discrepancies and suggest the best answer."</span>
                        </div>
                        <div class="edit-icon-container" id="edit-predefined-btn" title="Edit Predefined Prompt">
                            ‚úèÔ∏è
                        </div>
                    </button>
                    <button id="btn-custom-prompt" class="option-card">
                        <div class="icon">‚úèÔ∏è</div>
                        <h3>Add Custom Prompt</h3>
                        <p>Write your own prompt to guide the cross-check.</p>
                    </button>
                </div>

                <div id="predefined-prompt-edit-view" class="custom-view hidden">
                    <div class="custom-header">
                        <button id="back-to-options-predefined-btn" class="btn-ghost">‚Üê Back</button>
                        <h3>Edit Predefined Prompt</h3>
                        <button id="close-predefined-edit-btn" class="close-btn"
                            style="margin-left: auto;">&times;</button>
                    </div>
                    <div class="input-group">
                        <textarea id="predefined-prompt-input" class="textarea-field"
                            style="min-height: 150px;"></textarea>
                    </div>
                    <div class="controls-row" style="justify-content: flex-end; gap: 8px;">
                        <button id="btn-cancel-predefined" class="btn-ghost">Cancel</button>
                        <button id="btn-save-predefined" class="btn-primary" disabled>Modify</button>
                    </div>
                </div>

                <div id="custom-prompt-view" class="custom-view hidden">
                    <div class="custom-header">
                        <button id="back-to-options-btn" class="btn-ghost">‚Üê Back</button>
                        <h3>Custom Prompt</h3>
                    </div>
                    <div class="input-group">
                        <input type="text" id="custom-prompt-title" placeholder="Prompt Title"
                            class="input-field">
                    </div>
                    <div class="input-group">
                        <textarea id="custom-prompt-input" placeholder="Enter your custom prompt here..."
                            class="textarea-field"></textarea>
                    </div>
                    <div class="controls-row">
                        <label class="checkbox-label">
                            <input type="checkbox" id="save-prompt-checkbox"> Save this prompt
                        </label>
                        <div class="button-group">
                            <button id="btn-add-custom" class="btn-secondary" disabled>Add Custom Prompt</button>
                            <button id="btn-send-custom" class="btn-primary" disabled>Send Cross Check</button>
                        </div>
                    </div>

                    <div class="saved-prompts-section">
                        <h4>Saved Prompts</h4>
                        <div class="prompts-table-container">
                            <table id="saved-prompts-table">
                                <thead>
                                    <tr>
                                        <th data-sort="title">Title <span class="sort-icon"></span></th>
                                        <th data-sort="content">Preview <span class="sort-icon"></span></th>
                                        <th data-sort="lastUsedAt">Last Used <span class="sort-icon">‚ñº</span></th>
                                        <th data-sort="createdAt">Created <span class="sort-icon"></span></th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="saved-prompts-body">
                                    <!-- Rows will be injected here -->
                                </tbody>
                            </table>
                            <div id="saved-prompts-empty" class="empty-state hidden">No saved prompts yet.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="prompt-delete-modal" class="modal">
        <div class="modal-content prompt-delete-content">
            <div class="modal-header">
                <h3>Delete Saved Prompt</h3>
                <button id="close-prompt-delete-btn" class="close-btn" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete <strong id="prompt-delete-name">this prompt</strong>?</p>
            </div>
            <div class="prompt-delete-actions">
                <button id="btn-cancel-delete-prompt" class="btn-ghost">Cancel</button>
                <button id="btn-confirm-delete-prompt" class="btn-primary">Delete</button>
            </div>
        </div>
    </div>
    <script src="renderer.js"></script>
</body>

</html>
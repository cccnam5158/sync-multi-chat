[🇺🇸 English](README.md) | [🇰🇷 한국어](README.ko.md) | [🇯🇵 日本語](README.ja.md)

# Sync Multi Chat

**Sync Multi Chat** (コードネーム: MAPB - Multi AI Prompt Broadcaster) は、複数のAIサービスを同時に利用するユーザーの生産性を最大化するために設計された、Electronベースのデスクトップアプリケーションです。
たった一つのプロンプトを **ChatGPT**、**Claude**、**Gemini**、**Grok**、**Perplexity** に一斉に送信し、その回答を並べて表示することで、簡単に比較することができます。

![Sync Multi Chat アプリケーションスクリーンショット](assets/mutli-ai-chat.png)
*図 1: ChatGPT、Claude、Geminiと同時に対話しているSync Multi Chatのインターフェース*

## 主な機能

-   **マルチパネルインターフェース**: 最大4つのAIサービス（ChatGPT、Claude、Gemini、Grok、Perplexity）をグリッドレイアウトで同時に表示・操作できます。
-   **同時プロンプト送信**: 中央の「マスター入力欄」からメッセージを送ると、アクティブな全AIサービスに即座に送信されます。
-   **幅広いサービス対応**: ChatGPT、Claude、Gemini、Grok (xAI)、Perplexity、**Genspark** に対応しています。
-   **チャット履歴管理**: アクティブなサービス、レイアウト、URLを含むチャットセッション全体を保存・復元できます。
-   **会話履歴 (History)**: サイドバーから過去のセッションにアクセスし、即座に復元できます。
-   **ズーム＆レイアウト操作**: テキストサイズを調整したり、2x2、1x3、1x4、最大化レイアウトの切り替えが可能です。
-   **プロンプト履歴**: よく使うプロンプトを保存して再利用できます。
-   **クロスチェック (Cross Check)**: あるAIの回答を別のAIに新しいプロンプトとして送信し、相互検証（反復改善）を行えます。

## 技術スタック

-   **Electron**: クロスプラットフォームなデスクトップアプリケーションフレームワーク。
-   **Puppeteer**: ウェブビューとその対話を自動化するためのHeadless Chrome Node.js API。
-   **Vanilla HTML/CSS/JS**: 軽量で高速なフロントエンド。

## バージョン

-   **現在のバージョン**: v0.5.5

## インストール

このアプリケーションは、Windows用のポータブル実行ファイル（`.exe`）として配布されています。複雑なインストール作業は不要です。

1.  最新リリースのzipファイルをダウンロードします（例: `Sync Multi Chat-win32-x64-v0.5.5.zip`）。
2.  任意の場所にzipファイルを解凍します。
3.  解凍したフォルダ内の `Sync Multi Chat.exe` を実行します。

### 開発環境セットアップ（コントリビューター向け）

1.  リポジトリをクローンします。
2.  `npm install` を実行して依存関係をインストールします。
3.  `npm start` を実行して開発モードでアプリケーションを起動します。

## アーキテクチャと設計

-   **プロジェクト名**: Sync Multi Chat
-   **チャットスレッドのコピー (Copy Chat Thread)**: すべてのチャットスレッドをMarkdown形式を保持したままクリップボードにワンクリックでコピーします。
-   **最後の応答のみコピー (Copy Last Response)**: 素早い比較のために、アクティブな全サービスの最後のAI応答のみをコピーします。
-   **クロスチェック (Cross Check)**: 「Cross Check」ボタンをクリックすると、各AIが他のAIの回答をレビューします。
-   **匿名クロスチェック**: バイアスを減らすため、クロスチェック中にAIサービス名を匿名（A、B、C...）に隠すオプションです。
-   **ファイルアップロード**: 画像やテキストファイルをプロンプトに添付し、サポートされているすべてのサービスにブロードキャストします。**ドラッグ＆ドロップ**および**クリップボードからの貼り付け**に対応しています。

-   **サンドボックス環境**: 各サービスは、コンテキスト分離（context isolation）された個別の `BrowserView` で実行されます。
-   **認証情報の非保存**: パスワードはアプリに一切保存されません。各サービスの公式ウェブサイトから直接ログインします。
-   **ボット検知回避**: 互換性を確保するため、User-Agentスプーフィングや人間のような入力イベントトリガーを使用しています。

---

## 📦 インストールと始め方

### 前提条件
-   [Node.js](https://nodejs.org/) (v16以上推奨)
-   [npm](https://www.npmjs.com/) (通常Node.jsに含まれています)

### インストール手順

1.  **リポジトリのクローン**
    ```bash
    git clone https://github.com/your-username/sync-multi-chat.git
    cd sync-multi-chat
    ```

2.  **依存関係のインストール**
    ```bash
    npm install
    ```

3.  **アプリケーションの実行**
    ```bash
    npm start
    ```

4.  **プロダクションビルド**
    
    **オプション A: ポータブル実行ファイル (推奨)**
    インストールなしで実行できるスタンドアロンフォルダを作成します。
    ```bash
    npm run build:portable
    ```
    実行ファイルは以下の場所に作成されます: `dist-packager/Sync Multi Chat-win32-x64/Sync Multi Chat.exe`

    **オプション B: インストーラー (NSIS)**
    setup.exe インストーラーを作成します（有効なコード署名環境が必要）。
    ```bash
    npm run build
    ```
    インストーラーは `dist` フォルダに作成されます。

---

## 📖 ユーザーガイド

1.  **初期設定**: アプリを初めて起動すると、各パネルにChatGPT、Claude、Geminiなどのログイン画面が表示されます。各サービスに手動で**ログイン**してください。
2.  **プロンプトの一斉送信**:
    -   下部の入力バーに質問を入力します。
    -   **Enter**キーを押す（または送信ボタンをクリックする）と、有効なすべてのサービスにメッセージが送信されます。
    -   **Ctrl+Enter** で強制送信できます。
    -   **Ctrl+Shift+Enter** または **New Chat** ボタンをクリックすると、すべてのアクティブパネルで新しい会話を開始します。
3.  **高度な機能**:
    -   **Copy Chat Thread**: **Copy Chat Thread** ボタンをクリックすると、アクティブな全パネルの会話履歴全体をMarkdown形式でクリップボードにコピーします。
    -   **Copy Last Response**: **Copy Last Response** ボタンをクリックすると、各アクティブサービスの最後のAI応答のみをコピーします。
    -   **Cross Check**: **Cross Check** ボタンをクリックすると、各AIが他のAIの回答をレビューします。
    -   **サービス別ヘッダー**: 各パネルにはサービス名とクイックアクセスボタンがあるヘッダーバーがあります:
        -   🔄 **Reload**: そのサービスパネルのみを更新します。
        -   📋 **Copy**: そのサービスのチャットスレッド全体をMarkdown形式でコピーします。
4.  **ファイルアップロード**:
    -   **ファイル添付**: **クリップ(Clip)** アイコンをクリックするか、入力エリアにファイルを**ドラッグ＆ドロップ**します。
    -   **画像の貼り付け**: クリップボードから画像を直接貼り付けます。
    -   **2ステップ送信**: ファイルが添付された状態でEnterキーを押すとアップロードが始まります。確認モーダルが表示されたら、再度 **Ctrl+Enter** を押してファイルと共にプロンプトを送信します。

## ロードマップ

### フェーズ 1 (完了)
-   [x] 基本的なマルチビューアーキテクチャ
-   [x] プロンプトの一斉送信
-   [x] チャットスレッドのコピー (Copy Chat Thread)
-   [x] クロスチェック (回答の相互参照)
-   [ ] 回答完了の検知
-   [ ] エラー処理と復旧

### フェーズ 2 (進行中)
-   [x] 追加サービスのサポート (Grok, Perplexity)
-   [x] 高度なレイアウト (2x2、サイズ変更可能)
-   [x] ファイルアップロード (ドラッグ＆ドロップ、貼り付け、マルチサービス) *Grokは一時的に無効*
-   [x] ローカル会話履歴 (History)
-   DeepSeek、Copilotのサポート
-   回答比較ツール (Diffビュー)
-   回答コピー/保存機能 (強化版)

### フェーズ 3 (予定)
-   プロンプトテンプレート
-   回答品質分析

---

## 🤝 コントリビューション

コントリビューションは大歓迎です！以下の手順に従ってください:

1.  プロジェクトをフォーク (Fork) します。
2.  機能ブランチを作成します (`git checkout -b feature/AmazingFeature`)。
3.  変更をコミットします (`git commit -m 'Add some AmazingFeature'`)。
4.  ブランチへプッシュします (`git push origin feature/AmazingFeature`)。
5.  プルリクエスト (Pull Request) を作成します。

---

## 📄 ライセンス

このプロジェクトは **Polyform Noncommercial License 1.0.0** の下でライセンスされています。詳細は [LICENSE](LICENSE) ファイルを参照してください。

このライセンスでは以下が許可されています:
*   **個人的利用**: 個人の必要性のためにこのソフトウェアを自由に利用できます。
*   **非商用利用**: 非営利および非商用目的でこのソフトウェアを自由に利用できます。

このライセンスでは以下が**禁止**されています:
*   **商用利用**: ビジネス運営、フリーミアムサービスの一部としての提供、または金銭的報酬や商業的利益を主目的とする活動には、このソフトウェアを利用することはできません。

```text
Copyright (c) 2025 Joseph Nam. All rights reserved.
```
